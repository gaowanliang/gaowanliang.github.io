---
title: "B站2019秋招编程题"
date: 2019-10-23 20:21:53
summary: "B站在牛客网上发了一套自己秋招的编程题，恰好今年被老师忽悠着去再参加一次蓝桥杯，所以给大家解析下。"
tags: ["哔哩哔哩", "秋招", "算法"]
categories: ["算法"]
---

B 站在牛客网（ https://www.nowcoder.com/test/16519291/summary ）
上发了一套自己秋招的编程题，恰好今年被老师忽悠着去再参加一次蓝桥杯（我参加 C++组，所以下面的题都是用 C++做的，没用我熟悉的 python），虽然那个比赛很水，但是还是要提高我的编程能力才是。于是准备做点题练习下，B 站这个题挺好，题目很新颖（仅限题目描述），不过内容和那个比赛一样水，所以给大家解析下。

# 1.扭蛋机 [answer](https://www.nowcoder.com/questionTerminal/9d26441a396242a9a0f7d2106fc130c7)

> 时间限制：1 秒\
> 空间限制：32768K

22 娘和 33 娘接到了小电视君的扭蛋任务：
一共有两台扭蛋机，编号分别为扭蛋机 2 号和扭蛋机 3 号，22 娘使用扭蛋机 2 号，33 娘使用扭蛋机 3 号。
扭蛋机都不需要投币，但有一项特殊能力：
扭蛋机 2 号：如果塞 x（x 范围为>=0 正整数）个扭蛋进去，然后就可以扭到 2x+1 个
扭蛋机 3 号：如果塞 x（x 范围为>=0 正整数）个扭蛋进去，然后就可以扭到 2x+2 个
22 娘和 33 娘手中没有扭蛋，需要你帮她们设计一个方案，两人“轮流扭”（谁先开始不限，扭到的蛋可以交给对方使用），用“最少”的次数，使她们能够最后恰好扭到 N 个交给小电视君。

### 输入描述:

> 输入一个正整数，表示小电视君需要的 N 个扭蛋。

### 输出描述:

> 输出一个字符串，每个字符表示扭蛋机，字符只能包含"2"和"3"。

### 输入例子 1:

> 10

### 输出例子 1:

> 233

思路有两种，一种是 BFS，一种是通过二叉树（其实你看到 2x+1 和 2x+2 就差不多知道了），因为这个题是这样的：

![](https://i0.hdslb.com/bfs/article/b3688094c946e80621c9aeddea1af65114bcc717.png)

可以看到，n 是奇数都是最后 22 扭的，n 是偶数都是最后 33 扭的，那么我们就可以倒着找出最终的顺序。找到下一层之后返回上一层，如果是奇数就是(n-1)/2,偶数就是(n-2)/2，具体可自行验证。给出 C++的示例代码：

![](https://i0.hdslb.com/bfs/article/3231b98c148b9c98556239e35551d0267723bad2.png)

# 2.脸滚键盘 [answer](https://www.nowcoder.com/questionTerminal/2a3dc06f337d4a2ba41d25c688f95e2f)

> 时间限制：1 秒\
> 空间限制：32768K

[av394281](https://www.bilibili.com/av394281) 中，充满威严的蕾米莉亚大小姐因为触犯某条禁忌，被隙间妖怪八云紫（紫 m……èi）按住头在键盘上滚动。
同样在弹幕里乱刷梗被紫姐姐做成罪袋的你被指派找到大小姐脸滚键盘打出的一行字中的第 `k` 个仅出现一次的字。
(为简化问题，大小姐没有滚出 ascii 字符集以外的字)

### 输入描述:

> 每个输入都有若干行，每行的第一个数字为`k`，表示求第`k`个仅出现一次的字。然后间隔一个半角空格，之后直到行尾的所有字符表示大小姐滚出的字符串`S`。

### 输出描述:

> 输出的每一行对应输入的每一行的答案，如果无解，输出字符串`Myon~`\
> \
> (请不要输出多余的空行）\
> \
> 为了方便评测，如果答案存在且为 c，请输出[c]

### 输入例子 1:

> 2 misakamikotodaisuki\
> 3 !bakabaka~ bakabaka~ 1\~2~9!\
> 3 3.1415926535897932384626433832795028841971693993751o582097494459211451488946419191919l91919hmmhmmahhhhhhhhhh\
> 7 www.bilibili.com/av170001\
> 1 111

### 输出例子 1:

> [d]\
> [9]\
> [l]\
> [7]\
> Myon~

这个题有几种思路，最简单的还是使用映射(map)，让出现的每个字符对应到 0 上。扫描整个字符串，如果碰到一个字符，就让他对应的数+1，同时记录每个字符出现的顺序。然后扫描记录的顺序，找到第 k 个对应数是 1 的字符。但是我们看到题目说的是不超过 ASCII，所以直接用 ASCII 来映射就好了，给出示例 C++代码：
![](https://i0.hdslb.com/bfs/article/d434d8a0a72d5be696509fd514a3f559c44d1e4a.png)

# 3.简单表达式计算 [answer](https://www.nowcoder.com/questionTerminal/6221faa383fc49f1b10dffcb62c866bf)

> 时间限制：1 秒\
> 空间限制：32768K

给定一个合法的表达式字符串，其中只包含非负整数、加法、减法以及乘法符号（不会有括号），例如 7+3\*4\*5+2+4-3-1，请写程序计算该表达式的结果并输出；

### 输入描述:

> 输入有多行，每行是一个表达式，输入以 END 作为结束

### 输出描述:

> 每行表达式的计算结果

### 输入例子 1:

> 7+3\*4\*5+2+4-3-1\
> 2-3\*1\
> END

### 输出例子 1:

> 69\
> -1

# 4.小 A 最多会新认识的多少人 [answer](https://www.nowcoder.com/questionTerminal/1fe6c3136d2a45fa8ef555b459b6dd26)

> 时间限制：1 秒\
> 空间限制：32768K

小 A 参加了一个 n 人的活动，每个人都有一个唯一编号`i`(`i>=0 & i<n`)，其中`m`对相互认识，在活动中两个人可以通过互相都认识的一个人介绍认识。现在问活动结束后，小 A 最多会认识多少人？

### 输入描述:

> 第一行聚会的人数：n（n>=3 & n<10000）；\
> 第二行小 A 的编号: ai（ai >= 0 & ai < n)；\
> 第三互相认识的数目: m（m>=1 & m
> < n(n-1)/2）；\
> 第 4 到 m+3 行为互相认识的对，以','分割的编号。

### 输出描述:

> 输出小 A 最多会新认识的多少人？

### 输入例子 1:

> 7\
> 5\
> 6\
> 1,0\
> 3,1\
> 4,1\
> 5,3\
> 6,1\
> 6,5

### 输出例子 1:

> 3

这个题很明显的并查集，但是据其他人说用邻接表+BFS 也能做，但是这里我就不尝试了，给出并查集（最后要记得减去小 A 本来就认识的人）的 C++示例代码：

![](https://i0.hdslb.com/bfs/article/c3620b6cb4835cda3b98a43a1e3cbbfc8126d40e.png)

# 5.山寨金闪闪 [answer](https://www.nowcoder.com/questionTerminal/9363dcb83ca44c61a2c1a8f65aa722b8)

> 时间限制：3 秒\
> 空间限制：262144K

金闪闪死后，红 A 拿到了王之财宝，里面有 n 个武器，长度各不相同。红 A 发现，拿其中三件武器首尾相接，组成一个三角形，进行召唤仪式，就可以召唤出一个山寨金闪闪。（例如，三件武器长度为 10、15、20，可以召唤成功。若长度为 10、11、30，首尾相接无法组成三角形，召唤失败。）红 A 于是开了一个金闪闪专卖店。他把王之财宝排成一排，每个客人会随机抽取到一个区间[l,r],客人可以选取区间里的三件武器进行召唤（客人都很聪慧，如果能找出来合适的武器，一定不会放过）。召唤结束后，客人要把武器原样放回去。m 个客人光顾以后，红 A 害怕过多的金闪闪愉悦太多男人，于是找到了你，希望你帮他统计出有多少山寨金闪闪被召唤出来。

### 输入描述:

> 第一行武器数量:n <= 1\*10^7\
> 第二行空格分隔的 n 个 int，表示每件武器的长度。\
> 第三行顾客数量：m <= 1\*10^6\
> 后面 m 行，每行两个 int l，r，表示每个客人被分配到的区间。（l<r）

### 输出描述:

> 山寨金闪闪数量。

### 输入例子 1:

> 5\
> 1 10 100 95 101\
> 4\
> 1 3\
> 2 4\
> 2 5\
> 3 5

### 输出例子 1:

> 3

我知道这是《Fate》系列作品的衍生题目，我不玩游戏，但是咱也知道金闪闪是男的，为什么偷 ♂ 税男人啦。不过这个题很有说头，思路可以分为这几步：

1，首先，判断三个正整数 a,b,c 是否能组成三角形，判断方法是：将 abc 升序排列，然后如果 a+b>c,则可以构成三角形。其次，判断一个区间[L,R]内是否能找到三个数使其构成三角形，可以将这 R-L+1 个元素取出并排序，然后从前往后三个三个判断。查询每次区间长度都在 1~1e7 之间，当然不能每次都暴力找，不然有 1e6 次查询，时间复杂度肯定爆炸，那么怎么处理呢？实际上，如果数一多，是非常容易构成三角形的，如果要刚好卡到边界，刚好不能构造成三角形（a+b==c），则要构造这样的数据：1，1，2，3，5，8......。
巧了，其实就是斐波那契数列，题目的数据给出的数据在 int 范围内，然后我们发现大概在 40 多项的时候就不能构造出全都不满足构成三角形的数据了，下面是打表的出的结果。

![](https://i0.hdslb.com/bfs/article/b0c8293b0b7cf2342bf718d6688d72b63a629ee2.png)
int 的范围最大是 2 的 32 次方，也就是 4294967296，到 48 项就超了，所以区间超过 47 必出金闪闪

所以，只要在给出的区间长度较大的，一定能构成三角形，区间长度较小的，则可以存下来排序后判断，下面给出 C++示例代码：

![](https://i0.hdslb.com/bfs/article/1d40fc7c91688baa999c7dc02c3de95f02acfeb6.png)

作者：高玩梁
https://www.bilibili.com/read/cv3831139
出处： bilibili

# 6.比较两个版本字符串 version1 和 version2 [answer](https://www.nowcoder.com/questionTerminal/521049ca23f147d698e1cff923c3262a)

> 时间限制：1 秒\
> 空间限制：32768K

如果 version1 > version2 返回 1，如果 version1 < version2 返回-1，不然返回 0.

输入的 version 字符串非空，只包含数字和字符.。.字符不代表通常意义上的小数点，只是用来区分数字序列。例如字符串 2.5 并不代表二点五，只是代表版本是第一级版本号是 2，第二级版本号是 5.

### 输入描述:

> 两个字符串，用空格分割。\
> 每个字符串为一个 version 字符串，非空，只包含数字和字符.

### 输出描述:

> 只能输出 1, -1，或 0

### 输入例子 1:

> 0.1 1.1

### 输出例子 1:

> -1

# 7.精灵鼠从入口到出口的最少减少速度 [answer](https://www.nowcoder.com/questionTerminal/6171d3a8748248248c21a3c8f330396d)

> 时间限制：2 秒\
> 空间限制：131072K

猛兽侠中精灵鼠在利剑飞船的追逐下逃到一个 n\*n 的建筑群中，精灵鼠从（0,0）的位置进入建筑群，建筑群的出口位置为（n-1,n-1），建筑群的每个位置都有阻碍，每个位置上都会相当于给了精灵鼠一个固定值减速，因为精灵鼠正在逃命所以不能回头只能向前或者向下逃跑，现在问精灵鼠最少在减速多少的情况下逃出迷宫？

### 输入描述:

> 第一行迷宫的大小: n >=2 & n <= 10000；\
> 第 2 到 n+1 行，每行输入为以','分割的该位置的减速,减速 f >=1 & f < 10。

### 输出描述:

> 精灵鼠从入口到出口的最少减少速度？

### 输入例子 1:

> 3\
> 5,5,7\
> 6,7,8\
> 2,2,4

### 输出例子 1:

> 19

# 8.顺时针打印数字矩阵 [answer](https://www.nowcoder.com/questionTerminal/ce0c22a435114108bd9acc75f81b5802)

> 时间限制：1 秒\
> 空间限制：32768K

给定一个数字矩阵，请设计一个算法从左上角开始顺时针打印矩阵元素

### 输入描述:

> 输入第一行是两个数字，分别代表行数 M 和列数 N；接下来是 M 行，每行 N 个数字，表示这个矩阵的所有元素；当读到 M=-1，N=-1 时，输入终止。

### 输出描述:

> 请按逗号分割顺时针打印矩阵元素（注意最后一个元素末尾不要有逗号！例如输出“1，2，3”，而不是“1，2，
> 3，”），每个矩阵输出完成后记得换行

### 输入例子 1:

> 3 3\
> 1 2 3\
> 4 5 6\
> 7 8 9\
> -1 -1

### 输出例子 1:

> 1,2,3,6,9,8,7,4,5

# 9.写一段程序判断 IP 字符串是否属于内网 IP [answer](https://www.nowcoder.com/questionTerminal/80ce674313ff43af9d7ac7a41ae21527)

> 时间限制：1 秒\
> 空间限制：32768K

从业 666 年的 BILIBILI 网络安全工程师 KindMo 最近很困惑，公司有一个业务总是受到 SSRF 攻击。请帮他写一个程序，判断输入的字符串是否属于内网 IP，用于防御该漏洞。
我们知道常见的内网 IP 有，127.0.0.1，192.168.0.1 等。

### 输入描述:

> 每次输入仅包含一个 IP 字符串，即一个测试样例

### 输出描述:

> 对于每个测试实例输出整数 1 或 0，1 代表 True，即输入属于内网 IP，0 代表 False，即输入不属于内网 IP 或不是 IP 字符串。

### 输入例子 1:

> 42.96.146.169

### 输出例子 1:

> 0

# 10.给定一个整数数组,判断其中是否有 3 个数和为 N [answer](https://www.nowcoder.com/questionTerminal/b69c933c28164cbd8852820c16556a84)

> 时间限制：1 秒\
> 空间限制：131072K

给定一个整数数组,判断其中是否有 3 个数和为 N

### 输入描述:

> 输入为一行\
> 逗号前为一个整数数组，每个元素间用空格隔开；逗号后为 N

### 输出描述:

> 输出 bool 值\
> True 表示存在 3 个和为 N 的数\
> False 表示不存在 3 个和为 N 的数\

### 输入例子 1:

> 1 2 3 4 5,10

### 输出例子 1:

> True

# 11.实现一个 HTML 语法检查器 [answer](https://www.nowcoder.com/questionTerminal/bbe2e0eb156446fd9a8de997e9189fe9)

> 时间限制：1 秒\
> 空间限制：32768K

实现一个 HTML 语法检查器。HTML 语法规则简化如下：标签必须闭合，可以由开始和结束两个标签闭合，如`<div></div>`，也可以自闭合，
如`<div />`
标签可以嵌套如`<div><a></a></div>`或者 `<div><a/></div>`，但是标签不能交叉：`<div><a></div></a>`是不允许的标签里可以有属性
如`<div id="a<1"></div>`
属性的规则是 name="任意非引号字符"，多属性声明之间必须有空格，属性声明不符合规则时，整段 HTML 都算语法错误
输入文本只会出现字母 a-z 和<>"=
请用任意语言实现一个 HTML 语法检查器函数，有语法错误返回 1，没有语法错误返回 0

### 输入描述:

> 一行，一个 HTML 字符串

### 输出描述:

> 有语法错误返回 1，没有语法错误返回 0

# 12.孙悟空的徒弟 [answer](https://www.nowcoder.com/questionTerminal/7b841a840db64f5ebec77f6ee7e307e2)

> 时间限制：3 秒\
> 空间限制：131072K

打败魔人布欧以后，孙悟空收了 n 个徒弟，每个徒弟战斗力各不相同。他教导所有的徒弟和体术，合体后战斗力为原战斗力相乘。任何两个徒弟都可以合体，所以一共有 n\*(n-1)/2 种合体徒弟。有一天，他想考验一下孙悟天战斗力如何，希望在所有 n\*(n-1)/2 种合体徒弟中选择战斗力第 k 高的，与孙悟天对战。可是孙悟空徒弟太多了，他已然懵逼，于是找到了你，请你帮他找到对的人。

### 输入描述:

> 第一行两个 int。徒弟数量：n <= 1\*10^6；战斗力排名:k <= n\*(n-1)/2\
> 第二行空格分隔 n 个 int，表示每个徒弟的战斗力。

### 输出描述:

> 战斗力排名 k 的合体徒弟战斗力。

### 输入例子 1:

> 5 2\
> 1 3 4 5 9

### 输出例子 1:

> 36

# 13.翻转链表 [answer](https://www.nowcoder.com/questionTerminal/f350f14cd22c41aabfa7e54a1b8e8825)

> 时间限制：1 秒\
> 空间限制：32768K

对于一个链表 L: L0→L1→…→Ln-1→Ln,\
将其翻转成 L0→Ln→L1→Ln-1→L2→Ln-2→…

输入是一串数字，请将其转换成单链表格式之后，再进行操作

### 输入描述:

> 一串数字，用逗号分隔

### 输出描述:

> 一串数字，用逗号分隔

### 输入例子 1:

> 1,2,3,4,5

### 输出例子 1:

> 1,5,2,4,3

# 14.ん...红茶？[answer](https://www.nowcoder.com/questionTerminal/14a045880df44cf79626f079bd9f07f1)

> 时间限制：1 秒\
> 空间限制：131072K

高贵的蕾米莉亚大小姐每天需要饮用定量 B 型血的红茶以保持威严，并且要分两杯在不同时段饮用。
女仆长十六夜咲夜每天可以制作很多杯不同剂量 B 型血的红茶供蕾米莉亚大小姐饮用。
某日，你和天才妖精琪露诺偷偷潜入红魔馆被咲夜抓住，要求在今日份的红茶中挑出所有满足大小姐要求的茶杯，否则……

### 输入描述:

> 每个样例有三行输入，第一行输入表示茶杯个数，第二行输入表示每份茶杯里的 B 型血剂量，第三行表示大小姐今天的定量

### 输出描述:

> 对每一个样例，输出所有可能的搭配方案，如果有多种方案，请按每个方案的第一杯 B 型血剂量的大小升序排列。\
> 如果无法找到任何一种满足大小姐的方案，输出"NO"(不包括引号)并换行。

### 输入例子 1:

> 7\
> 2 4 6 1 3 5 7\
> 7

### 输出例子 1:

> 1 6\
> 2 5\
> 3 4
